<ion-header>
    <ion-toolbar>
        <ion-title>
            Todo
        </ion-title>
        <ion-buttons start>
            <button ion-button *ngIf="!isReadOnly" (tap)="handleSaveClick()">
              <span ion-text color="primary" showWhen="ios">Save</span>
              <ion-icon name="md-checkmark" showWhen="android, windows, browser"></ion-icon>
            </button>

            <button ion-button *ngIf="isReadOnly" (tap)="toggleUpdateMode()">
              <span ion-text color="primary" showWhen="ios">Update</span>
              <ion-icon name="md-brush" showWhen="android, windows"></ion-icon>
            </button>

            <button ion-button (click)="dismiss()">
              <span ion-text color="primary" showWhen="ios">Cancel</span>
              <ion-icon name="md-close" showWhen="android, windows"></ion-icon>
            </button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-item>
        <ion-label floating>Todo Name</ion-label>
        <ion-input type="text" [(ngModel)]="name" [readonly]="isReadOnly"></ion-input>
    </ion-item>

    <ion-item *ngIf="description || !isReadOnly">
        <ion-label floating>Description</ion-label>
        <ion-textarea [(ngModel)]="description" [readonly]="isReadOnly"></ion-textarea>
    </ion-item>

    <ion-item *ngIf="intendedDate || !isReadOnly">
        <ion-label floating>Intended Date</ion-label>
        <ion-datetime displayFormat="YYYY MMM DD" pickerFormat="YYYY MMM DD" [min]="now" [(ngModel)]="intendedDate" [disabled]="isReadOnly"></ion-datetime>
    </ion-item>

    <ion-item *ngIf="deadline || !isReadOnly">
        <ion-label floating>Deadline</ion-label>
        <ion-datetime displayFormat="YYYY MMM DD" pickerFormat="YYYY MMM DD" [min]="now" [(ngModel)]="deadline" [disabled]="isReadOnly"></ion-datetime>
    </ion-item>

    <ion-item *ngIf="dateCompleted">
        <ion-label floating>Date Completed</ion-label>
        <ion-datetime displayFormat="MMM DD, YYYY h:mm A" [(ngModel)]="dateCompleted" disabled></ion-datetime>
    </ion-item>

    <ion-item *ngIf="isReadOnly">
        <ion-label floating>Date Created</ion-label>
        <ion-datetime [(ngModel)]="dateCreated" disabled></ion-datetime>
    </ion-item>

</ion-content>